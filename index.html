<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheel of Fortune - MTH Spin Tools</title>
    <style>
        :root {
            --sky-blue: #87CEEB;
            --sunset-orange: #FFA500;
            --dark-yellow: #FFBF00;
            --dark-white: #E0E0E0;
            --bg-glass: rgba(255, 255, 255, 0.1);
            --border-glass: rgba(255, 255, 255, 0.2);
            --text-color-primary: #ffffff;
            --text-color-secondary: #333;
            --input-bg: rgba(0,0,0,0.2);
        }
        body.light-mode {
            --bg-glass: rgba(240, 240, 240, 0.7);
            --border-glass: rgba(200, 200, 200, 0.9);
            --text-color-primary: #121212;
            --text-color-secondary: #333;
            --input-bg: rgba(255,255,255,0.8);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(-45deg, #0b011f, #1f043c, #3a085b, #0d0221);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-color-primary);
            overflow-x: hidden; text-align: center; transition: color 0.4s ease;
        }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        .container { display: flex; flex-direction: column; align-items: center; justify-content: flex-start; min-height: 100vh; padding: 20px; }
        .header-controls { display: flex; justify-content: space-between; align-items: center; width: 100%; max-width: 1000px; padding: 0 10px; }
        .theme-switch { position: relative; display: inline-block; width: 60px; height: 34px; }
        .theme-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #444; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--sky-blue); }
        input:checked + .slider:before { transform: translateX(26px); }
        .slider .icon { position: absolute; top: 50%; transform: translateY(-50%); font-size: 18px; user-select: none; }
        .slider .sun { left: 7px; opacity: 1; transition: opacity 0.2s; }
        .slider .moon { right: 7px; opacity: 0; transition: opacity 0.2s; }
        input:checked + .slider .sun { opacity: 0; } input:checked + .slider .moon { opacity: 1; }
        #share-btn { background: none; border: none; cursor: pointer; padding: 10px; }
        #share-btn svg { width: 28px; height: 28px; fill: var(--text-color-primary); transition: fill 0.3s; }
        .ad-space { width: 100%; min-height: 90px; margin: 10px 0; display: flex; align-items: center; justify-content: center; font-size: 1rem; color: var(--text-color-primary); opacity: 0.7; }
        .main-content { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; }
        h1, h2 { background: linear-gradient(45deg, #ffadad, #caffbf, #9bf6ff, #bdb2ff); -webkit-background-clip: text; background-clip: text; color: transparent; }
        h1 { font-size: 3rem; margin-top: 10px; }
        .subheading-box { background: var(--bg-glass); border: 1px solid var(--border-glass); padding: 10px 20px; border-radius: 10px; margin-top: 25px; margin-bottom: 10px; font-size: 1.2rem; color: var(--sky-blue); backdrop-filter: blur(5px); cursor: pointer; transition: background 0.3s; }
        .wheel-container { position: relative; width: 350px; height: 350px; margin: 20px auto; }
        #wheel-canvas { width: 100%; height: 100%; transition: transform 6s cubic-bezier(0.2, 0.8, 0.7, 1); }
        #spin-btn { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80px; height: 80px; border-radius: 50%; background: var(--bg-glass); border: 2px solid var(--border-glass); color: var(--text-color-primary); font-size: 24px; cursor: pointer; backdrop-filter: blur(5px); z-index: 30; }
        .pointer { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-top: 30px solid var(--sunset-orange); z-index: 20; }
        #winner-card { display: none; flex-direction: column; align-items: center; padding: 30px; background: var(--bg-glass); border: 1px solid var(--border-glass); border-radius: 15px; backdrop-filter: blur(10px); margin-top: 30px; width: 90%; max-width: 400px; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        #contact-input, .participant-input { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid var(--border-glass); background: var(--input-bg); color: var(--text-color-primary); text-align: center; }
        .btn { padding: 12px 25px; border-radius: 8px; border: none; background: var(--sky-blue); color: #fff; cursor: pointer; font-size: 1rem; margin-top: 10px; }
        .speed-control { margin-top: 20px; width: 100%; max-width: 300px; display: flex; flex-direction: column; align-items: center; gap: 8px; color: var(--text-color-primary); }
        .participants-section, .winners-section { width: 100%; max-width: 800px; margin-top: 40px; padding: 20px; background: var(--bg-glass); border: 1px solid var(--border-glass); border-radius: 15px; backdrop-filter: blur(10px); }
        .participants-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; }
        #winners-list { list-style: none; padding: 0; text-align: left; max-height: 200px; overflow-y: auto; }
        #winners-list li { background: var(--input-bg); padding: 10px; border-radius: 5px; margin-bottom: 5px; }
        footer { padding: 30px 20px; margin-top: 40px; width: 100%; border-top: 1px solid var(--border-glass); color: var(--text-color-primary); }
        body:not(.light-mode) .ad-space, body:not(.light-mode) .speed-control, body:not(.light-mode) footer, body:not(.light-mode) #share-btn svg, body:not(.light-mode) .footer-links a, body:not(.light-mode) .social-links svg { color: var(--dark-white); fill: var(--dark-white); }
        body.light-mode .ad-space, body.light-mode .speed-control, body.light-mode footer, body.light-mode #share-btn svg, body.light-mode .footer-links a, body.light-mode .social-links svg { color: var(--dark-yellow); fill: var(--dark-yellow); }
        .footer-links a { color: var(--text-color-primary); text-decoration: none; margin: 0 10px; transition: color 0.3s; }
        .social-links svg { fill: var(--text-color-primary); }
        .footer-links a:hover, .social-links a:hover svg { color: var(--sky-blue); fill: var(--sky-blue); }
        .footer-links, .social-links { margin-bottom: 20px; }
        .social-links a { margin: 0 15px; } .social-links svg { width: 24px; height: 24px; transition: fill 0.3s; }
        .copyright-section { margin-top: 20px; } .mth-credit { margin-top: 10px; font-style: italic; opacity: 0.8; }
        .notification { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: var(--sky-blue); color: white; padding: 10px 20px; border-radius: 5px; z-index: 2000; opacity: 0; transition: opacity 0.5s; }
        .notification.show { opacity: 1; }
        @media (max-width: 480px) { h1 { font-size: 2.2rem; } .wheel-container { width: 300px; height: 300px; } }
    </style>
</head>
<body>
    <canvas id="particle-canvas"></canvas>
    <div class="container">
        <header>
            <div class="header-controls">
                <label class="theme-switch"><input type="checkbox" id="theme-checkbox" /><span class="slider"><span class="icon sun">‚òÄÔ∏è</span><span class="icon moon">üåô</span></span></label>
                <button id="share-btn" title="Share this app"><svg viewBox="0 0 24 24"><path d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L16.04,7.15C16.56,7.62 17.24,7.92 18,7.92C19.66,7.92 21,6.58 21,5C21,3.42 19.66,2 18,2C16.34,2 15,3.42 15,5C15,5.24 15.04,5.47 15.09,5.7L7.96,9.85C7.44,9.38 6.76,9.08 6,9.08C4.34,9.08 3,10.42 3,12C3,13.58 4.34,14.92 6,14.92C6.76,14.92 7.44,14.62 7.96,14.15L15.09,18.3C15.04,18.53 15,18.76 15,19C15,20.58 16.34,22 18,22C19.66,22 21,20.58 21,19C21,17.42 19.66,16.08 18,16.08Z" /></svg></button>
            </div>
            <!-- *** YAHAN PAR BADLAV KIYA GAYA HAI *** -->
            <div id="header-ad-container" class="ad-space">
                <script type="text/javascript">
                    atOptions = {
                        'key' : '20ba8afece9091cde0b329407a353322',
                        'format' : 'iframe',
                        'height' : 90,
                        'width' : 728,
                        'params' : {}
                    };
                </script>
                <script type="text/javascript" src="//www.highperformanceformat.com/20ba8afece9091cde0b329407a353322/invoke.js"></script>
            </div>
        </header>
        <main class="main-content">
            <h1>üé° Wheel of Fortune</h1>
            <div class="wheel-container">
                <div class="pointer"></div>
                <canvas id="wheel-canvas" width="500" height="500"></canvas>
                <button id="spin-btn">üéØ</button>
            </div>
            <div id="subheading-box" class="subheading-box">Spin the wheel to find the winner!</div>
            <div class="speed-control"><label for="speed-slider">Spin Speed</label><input type="range" id="speed-slider" min="0.5" max="2.5" value="1.5" step="0.1"></div>
            <div id="winner-card"><h2>üéâ Congratulations! üéâ</h2><p id="winner-text"></p><p>You won! Please enter your contact link</p><input type="text" id="contact-input" placeholder="https://example.com"><button id="confirm-winner-btn" class="btn">Confirm Winner</button></div>
            <button id="spin-again-btn" class="btn" style="display:none;">Spin Again</button>
            <div class="participants-section"><h2>üë• Participants</h2><div class="participants-grid" id="participants-grid"></div><button id="update-participants-btn" class="btn">Update Participants</button></div>
            <div class="winners-section"><h2>üèÜ Winners History</h2><ul id="winners-list"></ul></div>
        </main>
        <footer>
            <div class="footer-links"><a href="#" id="terms-link">Terms of Service</a> | <a href="#" id="privacy-link">Privacy Policy</a></div>
            <div class="social-links"><a href="#" target="_blank" title="Facebook"><svg viewBox="0 0 24 24"><path d="M12 2.04C6.5 2.04 2 6.53 2 12.06c0 5.04 3.67 9.21 8.44 9.95v-7.03H7.9v-2.91h2.54V9.84c0-2.51 1.49-3.9 3.8-3.9 1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.45 2.91h-2.33v7.03c4.77-.74 8.44-4.91 8.44-9.95C22 6.53 17.5 2.04 12 2.04z"/></svg></a><a href="#" target="_blank" title="Instagram"><svg viewBox="0 0 24 24"><path d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"/></svg></a><a href="#" target="_blank" title="Twitter"><svg viewBox="0 0 24 24"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"/></svg></a><a href="#" target="_blank" title="LinkedIn"><svg viewBox="0 0 24 24"><path d="M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3H19M18.5,18.5V13.2A3.26,3.26 0 0,0 15.24,9.94C14.39,9.94 13.4,10.43 12.92,11.24V10.13H10.13V18.5H12.92V13.57C12.92,12.8 13.54,12.17 14.31,12.17C15.08,12.17 15.71,12.8 15.71,13.57V18.5H18.5M6.88,8.56A1.68,1.68 0 0,0 8.56,6.88C8.56,6 7.78,5.2 6.88,5.2C6,5.2 5.2,6 5.2,6.88C5.2,7.78 6,8.56 6.88,8.56M8.27,18.5V10.13H5.5V18.5H8.27Z"/></svg></a></div>
            
            <div class="ad-space" id="footer-ad-container">
                <script async="async" data-cfasync="false" src="//pl27915001.effectivegatecpm.com/180a9fea21928c258ab6b3549d5f3d53/invoke.js"></script>
                <div id="container-180a9fea21928c258ab6b3549d5f3d53"></div>
            </div>

            <div class="copyright-section"><p>¬© 2025 MTH Spin Tools. All Rights Reserved.</p><p class="mth-credit">Created & Presented by MTH (Multi-tool Hub)</p></div>
        </footer>
    </div>
    <div id="policy-modal" class="modal"><div class="modal-content"><span class="close-btn">&times;</span><h2 id="modal-title"></h2><div id="modal-text"></div></div></div>
    <div id="notification" class="notification"></div>
    <audio id="applause-sound" src="https://www.soundjay.com/human/sounds/applause-6.mp3" preload="auto"></audio>
    
    <script>
        // App's main script
        document.addEventListener('DOMContentLoaded', () => {
            const wheelCanvas = document.getElementById('wheel-canvas');
            const ctx = wheelCanvas.getContext('2d');
            const spinBtn = document.getElementById('spin-btn');
            const subheadingBox = document.getElementById('subheading-box');
            const spinAgainBtn = document.getElementById('spin-again-btn');
            const themeCheckbox = document.getElementById('theme-checkbox');
            const applauseSound = document.getElementById('applause-sound');
            let participants = ["Aarav", "Diya", "Rohan", "Meera", "Arjun", "Priya", "Kiran", "Kavya", "Mohit", "Anaya", "Ishaan", "Radha"];
            const colors = ["#FFADAD", "#FFD6A5", "#FDFFB6", "#CAFFBF", "#9BF6FF", "#A0C4FF", "#BDB2FF", "#FFC6FF"];
            let currentRotationDeg = 0;
            let isSpinning = false;
            let audioInitialized = false;
            let audioCtx;
            let tickTimeoutHandle = null;

            function initializeAudio() {
                if (audioInitialized) return true;
                try {
                    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                    if (audioCtx.state === 'suspended') {
                        audioCtx.resume();
                    }
                    const silence = audioCtx.createGain();
                    silence.gain.value = 0;
                    silence.connect(audioCtx.destination);
                    const osc = audioCtx.createOscillator();
                    osc.connect(silence);
                    osc.start(0);
                    osc.stop(0.01);
                    
                    audioInitialized = true;
                    return true;
                } catch (e) {
                    console.warn("Web Audio API is not supported in this browser.");
                    audioInitialized = false;
                    return false;
                }
            }
            
            function playClick() {
                if (!audioInitialized || !audioCtx) return;
                const now = audioCtx.currentTime;
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = 'square';
                osc.frequency.setValueAtTime(1800, now);
                gain.gain.setValueAtTime(0.0001, now);
                gain.gain.exponentialRampToValueAtTime(0.12, now + 0.005);
                gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.06);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start(now);
                osc.stop(now + 0.07);
            }

            function scheduleTicking(spinDurationMs) {
                const start = performance.now();
                function loop(){
                    const elapsed = performance.now() - start;
                    const progress = Math.min(1, elapsed / spinDurationMs);
                    const minDelay = 60;
                    const maxDelay = 300;
                    const delay = minDelay + (maxDelay - minDelay) * progress;
                    playClick();
                    if (elapsed < spinDurationMs) {
                        tickTimeoutHandle = setTimeout(loop, delay);
                    }
                }
                loop();
            }

            function stopTicking() {
                if (tickTimeoutHandle) clearTimeout(tickTimeoutHandle);
            }

            const drawWheel = () => {
                const numSectors = participants.length;
                if (numSectors === 0) { ctx.clearRect(0, 0, wheelCanvas.width, wheelCanvas.height); return; }
                const anglePerSector = (2 * Math.PI) / numSectors;
                const radius = wheelCanvas.width / 2;
                const textColor = getComputedStyle(document.body).getPropertyValue('--text-color-secondary').trim();
                ctx.clearRect(0, 0, wheelCanvas.width, wheelCanvas.height);
                ctx.save(); ctx.translate(radius, radius);
                participants.forEach((name, i) => {
                    const angle = i * anglePerSector;
                    ctx.beginPath(); ctx.moveTo(0, 0); ctx.arc(0, 0, radius - 5, angle, angle + anglePerSector, false); ctx.closePath();
                    ctx.fillStyle = colors[i % colors.length]; ctx.fill();
                    ctx.save(); ctx.rotate(angle + anglePerSector / 2);
                    ctx.textAlign = "right"; ctx.fillStyle = textColor; ctx.font = "bold 16px Segoe UI";
                    ctx.fillText(name, radius - 20, 10); ctx.restore();
                });
                ctx.restore();
            };

            const handleSpin = () => {
                if (!initializeAudio()) {
                    console.warn("Audio could not be initialized. Spinning without sound.");
                }
            
                if (isSpinning || participants.length === 0) return;
                isSpinning = true;
                spinBtn.disabled = true;
                subheadingBox.style.pointerEvents = 'none';
                
                const spinDuration = 6000;
                if(audioInitialized) {
                    scheduleTicking(spinDuration);
                }
                
                const speedMultiplier = parseFloat(document.getElementById('speed-slider').value);
                const totalRotation = (10 * 360 * speedMultiplier) + (Math.random() * 360);
                const newRotation = currentRotationDeg + totalRotation;
                
                wheelCanvas.style.transition = `transform ${spinDuration / 1000}s cubic-bezier(0.2, 0.8, 0.7, 1)`;
                wheelCanvas.style.transform = `rotate(${newRotation}deg)`;
                currentRotationDeg = newRotation;
                
                setTimeout(() => {
                    stopTicking();
                    if(audioInitialized){
                        applauseSound.currentTime = 0;
                        applauseSound.volume = 1.0;
                        applauseSound.play().catch(e => console.error("Applause sound error:", e));
                    }
                    
                    const finalAngle = currentRotationDeg % 360;
                    const degreesPerSector = 360 / participants.length;
                    
                    const winningAngle = (270 - finalAngle + 360) % 360;
                    const winningIndex = Math.floor(winningAngle / degreesPerSector);
                    
                    const currentWinner = participants[winningIndex];
                    document.getElementById('winner-text').textContent = `${currentWinner} (#${winningIndex + 1})`;
                    document.getElementById('winner-card').style.display = 'flex';
                    spinBtn.style.display = 'none';
                    spinAgainBtn.style.display = 'block';
                }, spinDuration);
            };
            
            document.body.addEventListener('click', initializeAudio, { once: true });
            
            spinBtn.addEventListener('click', handleSpin);
            subheadingBox.addEventListener('click', handleSpin);
            
            spinAgainBtn.addEventListener('click', () => {
                spinAgainBtn.style.display = 'none';
                spinBtn.style.display = 'block';
                spinBtn.disabled = false;
                subheadingBox.style.pointerEvents = 'auto';
                isSpinning = false;
                document.getElementById('winner-card').style.display = 'none';
                const normalizedRotation = currentRotationDeg % 360;
                wheelCanvas.style.transition = 'none';
                wheelCanvas.style.transform = `rotate(${normalizedRotation}deg)`;
                currentRotationDeg = normalizedRotation;
            });

            themeCheckbox.addEventListener('change', () => { document.body.classList.toggle('light-mode'); localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark'); drawWheel(); });
            if (localStorage.getItem('theme') === 'light') { document.body.classList.add('light-mode'); themeCheckbox.checked = true; }

            document.getElementById('share-btn').addEventListener('click', async () => { try { if (navigator.share) { await navigator.share({ title: 'Wheel of Fortune', text: 'Try this fun Wheel of Fortune app!', url: window.location.href }); } else { throw new Error(); } } catch (err) { navigator.clipboard.writeText(window.location.href).then(() => showNotification('Link copied to clipboard!')); } });
            function showNotification(message) { const n=document.getElementById('notification'); n.textContent=message; n.classList.add('show'); setTimeout(()=>n.classList.remove('show'),3000); }
            const populateParticipantsGrid = () => { const g = document.getElementById('participants-grid'); g.innerHTML = ''; participants.forEach(n => { const i = document.createElement('input'); i.type = 'text'; i.value = n; i.className = 'participant-input'; g.appendChild(i); }); };
            document.getElementById('update-participants-btn').addEventListener('click', () => { participants = Array.from(document.querySelectorAll('.participant-input')).map(i => i.value.trim()).filter(Boolean); populateParticipantsGrid(); drawWheel(); });
            const saveWinner = (name, contact) => { let w = JSON.parse(localStorage.getItem('mthWinners')) || []; w.push({ name, contact, date: new Date().toLocaleString() }); localStorage.setItem('mthWinners', JSON.stringify(w)); renderWinners(); };
            const renderWinners = () => { let w = JSON.parse(localStorage.getItem('mthWinners')) || []; const l = document.getElementById('winners-list'); l.innerHTML = ''; w.forEach(win => { const li = document.createElement('li'); li.textContent = `${win.name} - ${win.contact} (${win.date})`; l.appendChild(li); }); };
            document.getElementById('confirm-winner-btn').addEventListener('click', () => { const currentWinner = document.getElementById('winner-text').textContent.split(' ')[0]; saveWinner(currentWinner, document.getElementById('contact-input').value); document.getElementById('contact-input').value = ''; document.getElementById('winner-card').style.display = 'none'; createConfetti(); });
            function createConfetti() { for (let i = 0; i < 150; i++) { const c = document.createElement('div'); c.style.cssText = `position:fixed;left:${Math.random()*100}vw;top:${Math.random()*-100}vh;width:${Math.random()*10+5}px;height:${Math.random()*10+5}px;background-color:hsl(${Math.random()*360},100%,50%);opacity:1;transition:all 4s ease-out;transform:rotate(${Math.random()*360}deg);`; document.body.appendChild(c); setTimeout(() => { c.style.top = '110vh'; c.style.opacity = '0'; }, 100); setTimeout(() => c.remove(), 4100); } }
            const pCanvas = document.getElementById('particle-canvas'); const pCtx = pCanvas.getContext('2d'); pCanvas.width = window.innerWidth; pCanvas.height = window.innerHeight; let pArray;
            function initParticles() { pArray = []; let n = (pCanvas.height*pCanvas.width)/9000; for(let i=0;i<n;i++){ let s=(Math.random()*2)+1,x=(Math.random()*((innerWidth-s*2)-(s*2))+s*2),y=(Math.random()*((innerHeight-s*2)-(s*2))+s*2),dX=(Math.random()*.4)-.2,dY=(Math.random()*.4)-.2; pArray.push({x,y,dX,dY,s});} }
            function animateParticles() { requestAnimationFrame(animateParticles); pCtx.clearRect(0,0,innerWidth,innerHeight); for(let i=0;i<pArray.length;i++){ let p=pArray[i]; pCtx.beginPath();pCtx.arc(p.x,p.y,p.s,0,Math.PI*2,false);pCtx.fillStyle='rgba(255,255,255,0.7)'; pCtx.fill(); if(p.x+p.s>pCanvas.width||p.x-p.s<0)p.dX=-p.dX; if(p.y+p.s>pCanvas.height||p.y-p.s<0)p.dY=-p.dY; p.x+=p.dX; p.y+=p.dY; } }
            window.addEventListener('resize', () => { pCanvas.width=innerWidth; pCanvas.height=innerHeight; initParticles(); });
            const modal=document.getElementById('policy-modal');
            document.getElementById('terms-link').onclick=(e)=>{e.preventDefault();modal.style.display="block"; modal.querySelector('#modal-title').innerHTML="Terms"; modal.querySelector('#modal-text').innerHTML="Terms content..."}
            document.getElementById('privacy-link').onclick=(e)=>{e.preventDefault();modal.style.display="block"; modal.querySelector('#modal-title').innerHTML="Privacy"; modal.querySelector('#modal-text').innerHTML="Privacy content..."}
            
            populateParticipantsGrid(); drawWheel(); initParticles(); animateParticles(); renderWinners();
        });
    </script>

    <!-- *** YAHAN PAR BADLAV KIYA GAYA HAI *** -->
    <!-- Scripts have been removed from here -->

</body>
</html>
